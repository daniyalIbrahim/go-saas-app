{"remainingRequest":"/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/src/views/Welcome.vue?vue&type=style&index=0&id=92da6438&scoped=true&lang=css&","dependencies":[{"path":"/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/src/views/Welcome.vue","mtime":1599693140000},{"path":"/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/css-loader/index.js","mtime":1610669676121},{"path":"/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1610669676734},{"path":"/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/postcss-loader/src/index.js","mtime":1610669676651},{"path":"/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/vuetify-loader/lib/loader.js","mtime":1610669687221},{"path":"/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/cache-loader/dist/cjs.js","mtime":1610669676038},{"path":"/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/vue-loader/lib/index.js","mtime":1610669676734}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.center-text {\n  text-align: center;\n}\n",{"version":3,"sources":["Welcome.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwFA;AACA;AACA","file":"Welcome.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <v-container fluid fill-height>\n    <v-layout align-content-center justify-center>\n      <v-flex xs12 sm10 md8 class=\"center-text\">\n        <v-layout row wrap>\n          <v-flex xs12>\n            <h1>Welcome to the Go &#9829; Vue Starter</h1>\n          </v-flex>\n        </v-layout>\n\n        <v-layout row wrap>\n          <v-flex xs12>\n            <p>Hi {{user.name}} and welcome to the Go &#9829; Vue Starter. Befor you start please verify your email address. If you have not get an verification email you can use the button below to resend the verification email.</p>\n            <LoremIpsum />\n          </v-flex>\n        </v-layout>\n\n        <v-layout row wrap>\n          <v-flex xs12>\n            <Alert v-model=\"success\" type=\"success\" />\n            <Alert v-model=\"error\" type=\"error\" />\n            <v-btn v-if=\"user.id !== undefined\" color=\"primary\" :loading=\"loading\" :disabled=\"loading\" @click=\"resendVerificationEmail\">Resend verification email</v-btn>\n          </v-flex>\n        </v-layout>\n      </v-flex>\n    </v-layout>\n  </v-container>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Vue } from 'vue-property-decorator';\nimport { State } from 'vuex-class';\n\nimport Alert from '../components/Alert.vue';\nimport LoremIpsum from '../components/LoremIpsum.vue';\nimport { API_ENDPOINT } from '../constants';\nimport { IUserState } from '../store/modules/user';\n\n@Component({\n  components: {\n    Alert,\n    LoremIpsum,\n  },\n})\nexport default class Welcome extends Vue {\n  @State('user') private user!: IUserState;\n\n  private loading: boolean = false;\n  private error: string = '';\n  private success: string = '';\n\n  private async resendVerificationEmail() {\n    this.error = '';\n    this.success = '';\n    this.loading = true;\n\n    try {\n      const response = await fetch(API_ENDPOINT + '/api/v1/account/email', {\n        body: JSON.stringify({\n          id: this.user.id,\n        }),\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n        },\n        method: 'post',\n      });\n\n      const json = await response.json();\n\n      if (response.status >= 200 && response.status < 300) {\n        this.success = 'Verification email was sent.';\n        this.loading = false;\n      } else {\n        if (json.error) {\n          this.error = json.message;\n          this.loading = false;\n        }\n      }\n    } catch (e) {\n      this.error = 'An error occured';\n      this.loading = false;\n    }\n  }\n}\n</script>\n\n<style scoped>\n.center-text {\n  text-align: center;\n}\n</style>\n"]}]}
{"remainingRequest":"/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/src/views/Profile.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/src/views/Profile.vue","mtime":1599693140000},{"path":"/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/babel-loader/lib/index.js","mtime":1610669667321},{"path":"/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/ts-loader/index.js","mtime":1610669671571},{"path":"/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/vuetify-loader/lib/loader.js","mtime":1610669687221},{"path":"/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/cache-loader/dist/cjs.js","mtime":1610669676038},{"path":"/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/vue-loader/lib/index.js","mtime":1610669676734}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue } from 'vue-property-decorator';\nimport { Action, State } from 'vuex-class';\n\nimport Alert from '../components/Alert.vue';\nimport EmailTextField from '../components/EmailTextField.vue';\nimport { IUserState } from '../store/modules/user';\n\n@Component({\n  components: {\n    Alert,\n    EmailTextField,\n  },\n})\nexport default class Profile extends Vue {\n  @State('user') private user!: IUserState;\n  @Action('save', { namespace: 'user' }) private save: any;\n\n  private name: string = '';\n  private email: string = '';\n  private loading: boolean = false;\n  private success: string = '';\n  private error: string = '';\n  private info: string = '';\n\n  private nameRules = [\n    (v: string) => !!v || 'Name is required',\n  ];\n\n  private mounted() {\n    this.name = this.user.name ? this.user.name : '';\n    this.email = this.user.email ? this.user.email : '';\n  }\n\n  private saveProfile() {\n    let tmpInfo = '';\n    if (this.email !== this.user.email) {\n      tmpInfo = 'Please verify your new email address';\n    }\n\n    if ((this.$refs.form as HTMLFormElement).validate()) {\n      this.loading = true;\n\n      this.save({name: this.name, email: this.email}).then(() => {\n        this.success = 'Changes were saved';\n        this.info = tmpInfo;\n        this.loading = false;\n      }).catch((err: any) => {\n        this.error = err.message;\n        this.loading = false;\n      });\n    }\n  }\n}\n",{"version":3,"sources":["Profile.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Profile.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <v-container fluid fill-height>\n    <v-layout align-content-center justify-center>\n      <v-flex xs12 sm10 md8>\n        <v-layout row wrap>\n          <v-flex xs12>\n            <h1>Profile</h1>\n          </v-flex>\n        </v-layout>\n\n        <v-layout row wrap>\n          <v-flex xs12>\n            <v-form ref=\"form\">\n              <v-text-field v-model=\"name\" :rules=\"nameRules\" prepend-icon=\"person\" name=\"name\" label=\"Name\" type=\"text\"></v-text-field>\n              <EmailTextField v-model=\"email\" />\n              <Alert v-model=\"success\" type=\"success\" />\n              <Alert v-model=\"error\" type=\"error\" />\n              <Alert v-model=\"info\" type=\"info\" />\n            </v-form>\n          </v-flex>\n        </v-layout>\n\n        <v-layout row wrap>\n          <v-flex xs12 class=\"right-text\">\n            <v-btn color=\"primary\" :loading=\"loading\" :disabled=\"loading\" @click=\"saveProfile\">Save profile</v-btn>\n          </v-flex>\n        </v-layout>\n      </v-flex>\n    </v-layout>\n  </v-container>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Vue } from 'vue-property-decorator';\nimport { Action, State } from 'vuex-class';\n\nimport Alert from '../components/Alert.vue';\nimport EmailTextField from '../components/EmailTextField.vue';\nimport { IUserState } from '../store/modules/user';\n\n@Component({\n  components: {\n    Alert,\n    EmailTextField,\n  },\n})\nexport default class Profile extends Vue {\n  @State('user') private user!: IUserState;\n  @Action('save', { namespace: 'user' }) private save: any;\n\n  private name: string = '';\n  private email: string = '';\n  private loading: boolean = false;\n  private success: string = '';\n  private error: string = '';\n  private info: string = '';\n\n  private nameRules = [\n    (v: string) => !!v || 'Name is required',\n  ];\n\n  private mounted() {\n    this.name = this.user.name ? this.user.name : '';\n    this.email = this.user.email ? this.user.email : '';\n  }\n\n  private saveProfile() {\n    let tmpInfo = '';\n    if (this.email !== this.user.email) {\n      tmpInfo = 'Please verify your new email address';\n    }\n\n    if ((this.$refs.form as HTMLFormElement).validate()) {\n      this.loading = true;\n\n      this.save({name: this.name, email: this.email}).then(() => {\n        this.success = 'Changes were saved';\n        this.info = tmpInfo;\n        this.loading = false;\n      }).catch((err: any) => {\n        this.error = err.message;\n        this.loading = false;\n      });\n    }\n  }\n}\n</script>\n\n<style scoped>\n.right-text {\n  text-align: right;\n}\n</style>\n"]}]}
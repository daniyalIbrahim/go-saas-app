{"remainingRequest":"/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/thread-loader/dist/cjs.js!/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/babel-loader/lib/index.js!/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/ts-loader/index.js??ref--13-3!/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/vuetify-loader/lib/loader.js!/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/src/views/Welcome.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/src/views/Welcome.vue","mtime":1599693140000},{"path":"/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/cache-loader/dist/cjs.js","mtime":1610669676038},{"path":"/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/thread-loader/dist/cjs.js","mtime":1610669676723},{"path":"/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/babel-loader/lib/index.js","mtime":1610669667321},{"path":"/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/ts-loader/index.js","mtime":1610669671571},{"path":"/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/vuetify-loader/lib/loader.js","mtime":1610669687221},{"path":"/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/cache-loader/dist/cjs.js","mtime":1610669676038},{"path":"/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/vue-loader/lib/index.js","mtime":1610669676734}],"contextDependencies":[],"result":["import _JSON$stringify from \"/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/@babel/runtime-corejs2/core-js/json/stringify\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/@babel/runtime-corejs2/helpers/esm/inherits\";\nimport * as tslib_1 from \"tslib\";\nimport { Component, Vue } from 'vue-property-decorator';\nimport { State } from 'vuex-class';\nimport Alert from '../components/Alert.vue';\nimport LoremIpsum from '../components/LoremIpsum.vue';\nimport { API_ENDPOINT } from '../constants';\n\nvar Welcome =\n/*#__PURE__*/\nfunction (_Vue) {\n  _inherits(Welcome, _Vue);\n\n  function Welcome() {\n    var _this;\n\n    _classCallCheck(this, Welcome);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Welcome).apply(this, arguments));\n    _this.loading = false;\n    _this.error = '';\n    _this.success = '';\n    return _this;\n  }\n\n  _createClass(Welcome, [{\n    key: \"resendVerificationEmail\",\n    value: function () {\n      var _resendVerificationEmail = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var response, json;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.error = '';\n                this.success = '';\n                this.loading = true;\n                _context.prev = 3;\n                _context.next = 6;\n                return fetch(API_ENDPOINT + '/api/v1/account/email', {\n                  body: _JSON$stringify({\n                    id: this.user.id\n                  }),\n                  headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json'\n                  },\n                  method: 'post'\n                });\n\n              case 6:\n                response = _context.sent;\n                _context.next = 9;\n                return response.json();\n\n              case 9:\n                json = _context.sent;\n\n                if (response.status >= 200 && response.status < 300) {\n                  this.success = 'Verification email was sent.';\n                  this.loading = false;\n                } else {\n                  if (json.error) {\n                    this.error = json.message;\n                    this.loading = false;\n                  }\n                }\n\n                _context.next = 17;\n                break;\n\n              case 13:\n                _context.prev = 13;\n                _context.t0 = _context[\"catch\"](3);\n                this.error = 'An error occured';\n                this.loading = false;\n\n              case 17:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[3, 13]]);\n      }));\n\n      function resendVerificationEmail() {\n        return _resendVerificationEmail.apply(this, arguments);\n      }\n\n      return resendVerificationEmail;\n    }()\n  }]);\n\n  return Welcome;\n}(Vue);\n\ntslib_1.__decorate([State('user')], Welcome.prototype, \"user\", void 0);\n\nWelcome = tslib_1.__decorate([Component({\n  components: {\n    Alert: Alert,\n    LoremIpsum: LoremIpsum\n  }\n})], Welcome);\nexport default Welcome;",{"version":3,"sources":["/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/vuetify-loader/lib/loader.js!/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/src/views/Welcome.vue?vue&type=script&lang=ts&"],"names":[],"mappings":";;;;;;;;;AA8BA,SAAS,SAAT,EAAoB,GAApB,QAA+B,wBAA/B;AACA,SAAS,KAAT,QAAsB,YAAtB;AAEA,OAAO,KAAP,MAAkB,yBAAlB;AACA,OAAO,UAAP,MAAuB,8BAAvB;AACA,SAAS,YAAT,QAA6B,cAA7B;;AASA,IAAqB,OAArB;AAAA;AAAA;AAAA;;AANA,qBAAA;AAAA;;AAAA;;;AASU,UAAA,OAAA,GAAmB,KAAnB;AACA,UAAA,KAAA,GAAgB,EAAhB;AACA,UAAA,OAAA,GAAkB,EAAlB;AAXV;AA8CC;;AAxCD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQI,qBAAK,KAAL,GAAa,EAAb;AACA,qBAAK,OAAL,GAAe,EAAf;AACA,qBAAK,OAAL,GAAe,IAAf;AAVJ;AAAA;AAAA,uBAa6B,KAAK,CAAC,YAAY,GAAG,uBAAhB,EAAyC;AACnE,kBAAA,IAAI,EAAE,gBAAe;AACnB,oBAAA,EAAE,EAAE,KAAK,IAAL,CAAU;AADK,mBAAf,CAD6D;AAInE,kBAAA,OAAO,EAAE;AACP,8BAAU,kBADH;AAEP,oCAAgB;AAFT,mBAJ0D;AAQnE,kBAAA,MAAM,EAAE;AAR2D,iBAAzC,CAblC;;AAAA;AAaY,gBAAA,QAbZ;AAAA;AAAA,uBAwByB,QAAQ,CAAC,IAAT,EAxBzB;;AAAA;AAwBY,gBAAA,IAxBZ;;AA0BM,oBAAI,QAAQ,CAAC,MAAT,IAAmB,GAAnB,IAA0B,QAAQ,CAAC,MAAT,GAAkB,GAAhD,EAAqD;AACnD,uBAAK,OAAL,GAAe,8BAAf;AACA,uBAAK,OAAL,GAAe,KAAf;AACD,iBAHD,MAGO;AACL,sBAAI,IAAI,CAAC,KAAT,EAAgB;AACd,yBAAK,KAAL,GAAa,IAAI,CAAC,OAAlB;AACA,yBAAK,OAAL,GAAe,KAAf;AACD;AACF;;AAlCP;AAAA;;AAAA;AAAA;AAAA;AAoCM,qBAAK,KAAL,GAAa,kBAAb;AACA,qBAAK,OAAL,GAAe,KAAf;;AArCN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,EAAqC,GAArC,CAAA;;AACiB,OAAA,CAAA,UAAA,CAAA,CAAd,KAAK,CAAC,MAAD,CAAS,CAAA,E,iBAAA,E,MAAA,E,KAA0B,CAA1B;;AADI,OAAO,GAAA,OAAA,CAAA,UAAA,CAAA,CAN3B,SAAS,CAAC;AACT,EAAA,UAAU,EAAE;AACV,IAAA,KAAK,EAAL,KADU;AAEV,IAAA,UAAU,EAAV;AAFU;AADH,CAAD,CAMkB,CAAA,EAAP,OAAO,CAAP;eAAA,O","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue } from 'vue-property-decorator';\nimport { State } from 'vuex-class';\n\nimport Alert from '../components/Alert.vue';\nimport LoremIpsum from '../components/LoremIpsum.vue';\nimport { API_ENDPOINT } from '../constants';\nimport { IUserState } from '../store/modules/user';\n\n@Component({\n  components: {\n    Alert,\n    LoremIpsum,\n  },\n})\nexport default class Welcome extends Vue {\n  @State('user') private user!: IUserState;\n\n  private loading: boolean = false;\n  private error: string = '';\n  private success: string = '';\n\n  private async resendVerificationEmail() {\n    this.error = '';\n    this.success = '';\n    this.loading = true;\n\n    try {\n      const response = await fetch(API_ENDPOINT + '/api/v1/account/email', {\n        body: JSON.stringify({\n          id: this.user.id,\n        }),\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n        },\n        method: 'post',\n      });\n\n      const json = await response.json();\n\n      if (response.status >= 200 && response.status < 300) {\n        this.success = 'Verification email was sent.';\n        this.loading = false;\n      } else {\n        if (json.error) {\n          this.error = json.message;\n          this.loading = false;\n        }\n      }\n    } catch (e) {\n      this.error = 'An error occured';\n      this.loading = false;\n    }\n  }\n}\n"],"sourceRoot":""}]}
{"remainingRequest":"/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/thread-loader/dist/cjs.js!/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/babel-loader/lib/index.js!/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/ts-loader/index.js??ref--13-3!/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/src/router.ts","dependencies":[{"path":"/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/src/router.ts","mtime":1599693140000},{"path":"/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/cache-loader/dist/cjs.js","mtime":1610669676038},{"path":"/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/thread-loader/dist/cjs.js","mtime":1610669676723},{"path":"/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/babel-loader/lib/index.js","mtime":1610669667321},{"path":"/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/ts-loader/index.js","mtime":1610669671571}],"contextDependencies":[],"result":["import _Date$now from \"/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/@babel/runtime-corejs2/core-js/date/now\";\nimport jwtDecode from 'jwt-decode';\nimport Vue from 'vue';\nimport Router from 'vue-router';\nimport { AUTH_TOKEN } from './constants';\nVue.use(Router);\nvar router = new Router({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes: [{\n    path: '/',\n    name: 'home',\n    component: function component() {\n      return import(\n      /* webpackChunkName: \"home\" */\n      './views/Home.vue');\n    }\n  }, {\n    path: '/login',\n    name: 'login',\n    component: function component() {\n      return import(\n      /* webpackChunkName: \"login\" */\n      './views/Login.vue');\n    }\n  }, {\n    path: '/signup',\n    name: 'signup',\n    component: function component() {\n      return import(\n      /* webpackChunkName: \"signup\" */\n      './views/Signup.vue');\n    }\n  }, {\n    path: '/welcome',\n    name: 'welcome',\n    component: function component() {\n      return import(\n      /* webpackChunkName: \"welcome\" */\n      './views/Welcome.vue');\n    }\n  }, {\n    path: '/verify/:id/:token',\n    name: 'verify',\n    component: function component() {\n      return import(\n      /* webpackChunkName: \"verify\" */\n      './views/Verify.vue');\n    }\n  }, {\n    path: '/forgot-password',\n    name: 'forgot-password',\n    component: function component() {\n      return import(\n      /* webpackChunkName: \"forgot-password\" */\n      './views/ForgotPassword.vue');\n    }\n  }, {\n    path: '/reset-password/:id/:token',\n    name: 'reset-password',\n    component: function component() {\n      return import(\n      /* webpackChunkName: \"reset-password\" */\n      './views/ResetPassword.vue');\n    }\n  }, {\n    path: '/profile',\n    name: 'profile',\n    component: function component() {\n      return import(\n      /* webpackChunkName: \"profile\" */\n      './views/Profile.vue');\n    },\n    meta: {\n      requiresAuth: true\n    }\n  }, {\n    path: '/404',\n    alias: '*',\n    name: 'notfound',\n    component: function component() {\n      return import(\n      /* webpackChunkName: \"notfound\" */\n      './views/NotFound.vue');\n    }\n  }]\n});\nrouter.beforeEach(function (to, from, next) {\n  if (to.matched.some(function (record) {\n    return record.meta.requiresAuth;\n  })) {\n    var token = localStorage.getItem(AUTH_TOKEN);\n\n    if (token === null) {\n      next({\n        path: '/login',\n        query: {\n          next: to.fullPath\n        }\n      });\n    } else {\n      var decoded = jwtDecode(token);\n\n      if (decoded.exp * 1000 < _Date$now().valueOf()) {\n        next({\n          path: '/login',\n          query: {\n            next: to.fullPath\n          }\n        });\n      } else {\n        next();\n      }\n    }\n  } else {\n    next();\n  }\n});\nexport default router;",{"version":3,"sources":["/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/src/router.ts"],"names":[],"mappings":"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","sourcesContent":["import jwtDecode from 'jwt-decode';\nimport Vue from 'vue';\nimport Router from 'vue-router';\n\nimport { AUTH_TOKEN } from './constants';\nimport { IJWTDecoded } from './store/modules/user';\n\nVue.use(Router);\n\nconst router = new Router({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes: [\n    {path: '/', name: 'home', component: () => import(/* webpackChunkName: \"home\" */ './views/Home.vue')},\n    {path: '/login', name: 'login', component: () => import(/* webpackChunkName: \"login\" */ './views/Login.vue')},\n    {path: '/signup', name: 'signup', component: () => import(/* webpackChunkName: \"signup\" */ './views/Signup.vue')},\n    {path: '/welcome', name: 'welcome', component: () => import(/* webpackChunkName: \"welcome\" */ './views/Welcome.vue')},\n    {path: '/verify/:id/:token', name: 'verify', component: () => import(/* webpackChunkName: \"verify\" */ './views/Verify.vue')},\n    {path: '/forgot-password', name: 'forgot-password', component: () => import(/* webpackChunkName: \"forgot-password\" */ './views/ForgotPassword.vue')},\n    {path: '/reset-password/:id/:token', name: 'reset-password', component: () => import(/* webpackChunkName: \"reset-password\" */ './views/ResetPassword.vue')},\n    {path: '/profile', name: 'profile', component: () => import(/* webpackChunkName: \"profile\" */ './views/Profile.vue'), meta: { requiresAuth: true }},\n\n    {path: '/404', alias: '*', name: 'notfound', component: () => import(/* webpackChunkName: \"notfound\" */ './views/NotFound.vue')},\n  ],\n});\n\nrouter.beforeEach((to, from, next) => {\n  if (to.matched.some((record) => record.meta.requiresAuth)) {\n    const token = localStorage.getItem(AUTH_TOKEN);\n\n    if (token === null) {\n      next({\n        path: '/login',\n        query: { next: to.fullPath },\n      });\n    } else {\n      const decoded: IJWTDecoded = jwtDecode(token);\n\n      if (decoded.exp * 1000 < Date.now().valueOf()) {\n        next({\n          path: '/login',\n          query: { next: to.fullPath },\n        });\n      } else {\n        next();\n      }\n    }\n  } else {\n    next();\n  }\n});\n\nexport default router;\n"],"sourceRoot":""}]}
{"remainingRequest":"/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/thread-loader/dist/cjs.js!/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/babel-loader/lib/index.js!/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/ts-loader/index.js??ref--13-3!/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/vuetify-loader/lib/loader.js!/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/src/views/ResetPassword.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/src/views/ResetPassword.vue","mtime":1599693140000},{"path":"/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/cache-loader/dist/cjs.js","mtime":1610669676038},{"path":"/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/thread-loader/dist/cjs.js","mtime":1610669676723},{"path":"/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/babel-loader/lib/index.js","mtime":1610669667321},{"path":"/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/ts-loader/index.js","mtime":1610669671571},{"path":"/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/vuetify-loader/lib/loader.js","mtime":1610669687221},{"path":"/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/cache-loader/dist/cjs.js","mtime":1610669676038},{"path":"/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/vue-loader/lib/index.js","mtime":1610669676734}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\nimport _JSON$stringify from \"/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/@babel/runtime-corejs2/core-js/json/stringify\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/@babel/runtime-corejs2/helpers/esm/inherits\";\nimport * as tslib_1 from \"tslib\";\nimport { Component, Vue } from 'vue-property-decorator';\nimport Alert from '../components/Alert.vue';\nimport PasswordTextField from '../components/PasswordTextField.vue';\nimport { API_ENDPOINT } from '../constants';\n\nvar ResetPassword =\n/*#__PURE__*/\nfunction (_Vue) {\n  _inherits(ResetPassword, _Vue);\n\n  function ResetPassword() {\n    var _this;\n\n    _classCallCheck(this, ResetPassword);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ResetPassword).apply(this, arguments));\n    _this.password = '';\n    _this.loading = false;\n    _this.error = '';\n    return _this;\n  }\n\n  _createClass(ResetPassword, [{\n    key: \"setPassword\",\n    value: function () {\n      var _setPassword = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var response, json;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!this.$refs.form.validate()) {\n                  _context.next = 17;\n                  break;\n                }\n\n                this.error = '';\n                this.loading = true;\n                _context.prev = 3;\n                _context.next = 6;\n                return fetch(API_ENDPOINT + '/api/v1/account/password', {\n                  body: _JSON$stringify({\n                    id: this.$route.params.id,\n                    resetPasswordToken: this.$route.params.token,\n                    password: this.password\n                  }),\n                  headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json'\n                  },\n                  method: 'put'\n                });\n\n              case 6:\n                response = _context.sent;\n                _context.next = 9;\n                return response.json();\n\n              case 9:\n                json = _context.sent;\n\n                if (response.status >= 200 && response.status < 300) {\n                  this.loading = false;\n                  this.$router.replace('/login');\n                } else {\n                  if (json.error) {\n                    this.error = json.message;\n                    this.loading = false;\n                  }\n                }\n\n                _context.next = 17;\n                break;\n\n              case 13:\n                _context.prev = 13;\n                _context.t0 = _context[\"catch\"](3);\n                this.error = 'An error occured';\n                this.loading = false;\n\n              case 17:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[3, 13]]);\n      }));\n\n      function setPassword() {\n        return _setPassword.apply(this, arguments);\n      }\n\n      return setPassword;\n    }()\n  }]);\n\n  return ResetPassword;\n}(Vue);\n\nResetPassword = tslib_1.__decorate([Component({\n  components: {\n    Alert: Alert,\n    PasswordTextField: PasswordTextField\n  }\n})], ResetPassword);\nexport default ResetPassword;",{"version":3,"sources":["/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/vuetify-loader/lib/loader.js!/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/daniyalibrahim/go/src/github.com/daniyalibrahim/go-saas-app/web/vue.js/src/views/ResetPassword.vue?vue&type=script&lang=ts&"],"names":[],"mappings":";;;;;;;;;;AA0BA,SAAS,SAAT,EAAoB,GAApB,QAA+B,wBAA/B;AAEA,OAAO,KAAP,MAAkB,yBAAlB;AACA,OAAO,iBAAP,MAA8B,qCAA9B;AACA,SAAS,YAAT,QAA6B,cAA7B;;AAQA,IAAqB,aAArB;AAAA;AAAA;AAAA;;AANA,2BAAA;AAAA;;AAAA;;;AAOU,UAAA,QAAA,GAAmB,EAAnB;AACA,UAAA,OAAA,GAAmB,KAAnB;AACA,UAAA,KAAA,GAAgB,EAAhB;AATV;AA+CC;;AAzCD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAMS,KAAK,KAAL,CAAW,IAAX,CAAoC,QAApC,EANT;AAAA;AAAA;AAAA;;AAOM,qBAAK,KAAL,GAAa,EAAb;AACA,qBAAK,OAAL,GAAe,IAAf;AARN;AAAA;AAAA,uBAW+B,KAAK,CAAC,YAAY,GAAG,0BAAhB,EAA4C;AACtE,kBAAA,IAAI,EAAE,gBAAe;AACnB,oBAAA,EAAE,EAAE,KAAK,MAAL,CAAY,MAAZ,CAAmB,EADJ;AAEnB,oBAAA,kBAAkB,EAAE,KAAK,MAAL,CAAY,MAAZ,CAAmB,KAFpB;AAGnB,oBAAA,QAAQ,EAAE,KAAK;AAHI,mBAAf,CADgE;AAMtE,kBAAA,OAAO,EAAE;AACP,8BAAU,kBADH;AAEP,oCAAgB;AAFT,mBAN6D;AAUtE,kBAAA,MAAM,EAAE;AAV8D,iBAA5C,CAXpC;;AAAA;AAWc,gBAAA,QAXd;AAAA;AAAA,uBAwB2B,QAAQ,CAAC,IAAT,EAxB3B;;AAAA;AAwBc,gBAAA,IAxBd;;AA0BQ,oBAAI,QAAQ,CAAC,MAAT,IAAmB,GAAnB,IAA0B,QAAQ,CAAC,MAAT,GAAkB,GAAhD,EAAqD;AACnD,uBAAK,OAAL,GAAe,KAAf;AACA,uBAAK,OAAL,CAAa,OAAb,CAAqB,QAArB;AACD,iBAHD,MAGO;AACL,sBAAI,IAAI,CAAC,KAAT,EAAgB;AACd,yBAAK,KAAL,GAAa,IAAI,CAAC,OAAlB;AACA,yBAAK,OAAL,GAAe,KAAf;AACD;AACF;;AAlCT;AAAA;;AAAA;AAAA;AAAA;AAoCQ,qBAAK,KAAL,GAAa,kBAAb;AACA,qBAAK,OAAL,GAAe,KAAf;;AArCR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,EAA2C,GAA3C,CAAA;;AAAqB,aAAa,GAAA,OAAA,CAAA,UAAA,CAAA,CANjC,SAAS,CAAC;AACT,EAAA,UAAU,EAAE;AACV,IAAA,KAAK,EAAL,KADU;AAEV,IAAA,iBAAiB,EAAjB;AAFU;AADH,CAAD,CAMwB,CAAA,EAAb,aAAa,CAAb;eAAA,a","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue } from 'vue-property-decorator';\n\nimport Alert from '../components/Alert.vue';\nimport PasswordTextField from '../components/PasswordTextField.vue';\nimport { API_ENDPOINT } from '../constants';\n\n@Component({\n  components: {\n    Alert,\n    PasswordTextField,\n  },\n})\nexport default class ResetPassword extends Vue {\n  private password: string = '';\n  private loading: boolean = false;\n  private error: string = '';\n\n  private async setPassword() {\n    if ((this.$refs.form as HTMLFormElement).validate()) {\n      this.error = '';\n      this.loading = true;\n\n      try {\n        const response = await fetch(API_ENDPOINT + '/api/v1/account/password', {\n          body: JSON.stringify({\n            id: this.$route.params.id,\n            resetPasswordToken: this.$route.params.token,\n            password: this.password,\n          }),\n          headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n          },\n          method: 'put',\n        });\n\n        const json = await response.json();\n\n        if (response.status >= 200 && response.status < 300) {\n          this.loading = false;\n          this.$router.replace('/login');\n        } else {\n          if (json.error) {\n            this.error = json.message;\n            this.loading = false;\n          }\n        }\n      } catch (e) {\n        this.error = 'An error occured';\n        this.loading = false;\n      }\n    }\n  }\n}\n"],"sourceRoot":""}]}